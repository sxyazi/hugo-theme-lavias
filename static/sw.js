const c="5b4ec415",f=t=>{var e;return t=(e=t.split("/").pop())!=null?e:"",!!(t==="manifest.json"||t.startsWith("favicon")&&t.endsWith(".png")||/.+\.[a-z0-9]{8}\.(js|json|css)$/.test(t))};self.addEventListener("install",t=>{t.waitUntil(self.skipWaiting())});self.addEventListener("activate",t=>{t.waitUntil(async function(){await self.clients.claim(),await caches.keys().then(e=>e.filter(n=>n!==c)).then(e=>Promise.all(e.map(n=>caches.delete(n))))}())});const u=new URL(self.registration.scope).hostname;self.addEventListener("fetch",t=>{const{request:e}=t,n=new URL(t.request.url);if(n.hostname!==u)return;const o=e.headers.get("x-swr");return t.respondWith(async function(){const s=await caches.match(e);if(s&&f(n.pathname))return s;const l=fetch(e).then(a=>(a.status<400&&caches.open(c).then(i=>i.put(e,a.clone())),o&&s&&a.status<400&&a.clone().arrayBuffer().then(async i=>{const r=await self.clients.get(t.clientId);r==null||r.postMessage({type:"SWR",version:c,path:n.pathname,buf:i},[i])}),a.clone()));return s!=null?s:l}())});
